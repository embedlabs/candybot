<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ScoreloopUI: Awards and Achievements</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ScoreloopUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d6/dd2/scoreloopui-integrateawards.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>Awards and Achievements </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><table  border="0" width="900" align="justify">
<tr>
<td><p class="starttd">ScoreloopUI lets you load an Achievements view that:</p>
<ul>
<li>displays the list of awards available in your game,</li>
<li>highlights any awards that have already been achieved by the user,</li>
<li>lets you post a message about an achieved award to a social network.</li>
</ul>
<table  align="left">
<tr>
<td><div align="center">
<img src="../../achievementsview.png" alt="achievementsview.png"/>
</div>
  </td><td></td><td><div align="center">
<img src="../../achievementsview2.png" alt="achievementsview2.png"/>
</div>
  </td></tr>
<tr>
<td><em>The Achievements View</em></td><td></td><td><em>Overlay for posting to a social network</em> </td></tr>
</table>
<p><br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</p>
<p>To integrate awards and achievements in your game you will need to:</p>
<ol type="1">
<li>Configure an award list on <a href="https://developer.scoreloop.com.">https://developer.scoreloop.com.</a></li>
<li>Download the configured award list and add it to your game project.</li>
<li>Modify the scoreloop.properties file to enable achievements.</li>
<li>Modify the Android Manifest so that it correctly references the ScoreloopUI activities<br/>
 used in integrating awards and achievements.</li>
<li>Implement the <a class="el" href="../../da/d84/scoreloopui-integrateentryscreen.html">Scoreloop Entry Screen</a> from which the Achievements view can be accessed.<br/>
 If you do not wish to implement the Scoreloop Entry Screen you must explicitly invoke the Achievements view from elsewhere in your application.</li>
</ol>
<p>The sections below describe how to go about this.</p>
<p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="configureawards"></a>
Configuring Awards and Achievements on https://developer.scoreloop.com.</h2>
<p>To configure your award list:</p>
<p>1. Go to <a href="https://developer.scoreloop.com">https://developer.scoreloop.com</a> and click on "Awards". Scoreloop creates an empty award list by default for every game<br/>
 registered. Click on "Create New Award".</p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="../../awardscreen1.png" alt="awardscreen1.png"/>
</div>
 </td></tr>
</table>
<p>2. To create a new Award, enter the appropriate information in the fields shown.</p>
<ol type="1">
<li>The identifier is chosen by you and should be a reverse DNS style string. It should be unique in your game as it will be used to retrieve awards from the awards bundle that will be added to your game project.</li>
<li>The initial and required counts define how many steps are needed in order to achieve the award. If your award can be achieved in a single step the initial count would be 0 and the required count 1. The example below defines 5 separate steps before the award is achieved, (initial count 0, required count 5).</li>
<li>The reward amount is the amount of in-game currency that the user will be credited with when they achieve the award. This must be entered in decimal form.</li>
</ol>
<p>Once the information has been entered hit "Create Award". This will bring you to a screen that lets you optionally upload 2 images:</p>
<ul>
<li>one that will be displayed when an award is achieved and</li>
<li>one that is displayed when the award remains unachieved.</li>
</ul>
<p>If you do not upload your own images, Scoreloop will display default images.</p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="../../awardscreen2.png" alt="awardscreen2.png"/>
</div>
 </td></tr>
</table>
<p>3. Click the "Awards" side-menu item. You will now see the award you have just created. If you want to add more awards to the list,<br/>
 click "Create New Award" and follow the steps above. </p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="../../awardscreen3.png" alt="awardscreen3.png"/>
</div>
 </td></tr>
</table>
<p>4. By default, the Award List name is "Empty List of Awards". You could rename it to a more meaningful one by clicking on "Rename" Button. </p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="../../Rename_AwardList.png" alt="Rename_AwardList.png"/>
</div>
 </td></tr>
</table>
<p>5. To download a completed award list click "Download". On clicking Download, you can download the Awards List created which is called "sl_awards_bundle.zip".</p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="../../awardscreen4.png" alt="awardscreen4.png"/>
</div>
 </td></tr>
</table>
<p>6. After downloading and unzipping the award list (the file is called sl_awards_bundle.zip), you need to add it to the /assets directory<br/>
 of your game project.</p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="../../awardscreen5.png" alt="awardscreen5.png"/>
</div>
 </td></tr>
</table>
<h2><a class="anchor" id="awardproperties"></a>
Updating scoreloop.properties to enable Achievements</h2>
<p>Enable the achievements feature by adding the following line of code to the scoreloop.properties <a href="file:">file:</a></p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> ui.feature.achievement = <span class="keyword">true</span>
</pre></div> </td></tr>
</table>
<p>The "Achievements" view is then directly accessible from the <a class="el" href="../../da/d84/scoreloopui-integrateentryscreen.html">Scoreloop Entry Screen</a>. <br/>
</p>
<h2><a class="anchor" id="explicit-invocation-achievements"></a>
Explicit invocation of the Achievements View</h2>
<p>In most cases it will be unnecessary for developers to explicitly launch this view from elsewhere in their games. However,<br/>
 for those who require this, the code example below shows how to go about doing this. <br/>
</p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"><span class="comment">//You should replace button_achievements with the appropriate id name from your project</span>
<span class="keyword">final</span> Button achievementsButton = (Button) findViewById(R.id.button_achievements);

achievementsButton.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() {
   
        @Override
        <span class="keyword">public</span> <span class="keywordtype">void</span> onClick(<span class="keyword">final</span> View v) {

             startActivity(<span class="keyword">new</span> Intent(<span class="keyword">this</span>, AchievementsScreenActivity.class));

        }
});
</pre></div><p class="endtd"></p>
</td></tr>
</table>
<p>When explicitly invoking the achievements view, you will need to update the Android Manifest so that it includes the Achievements related activities and also references the <br/>
<a class="el" href="../../d6/d30/classcom_1_1scoreloop_1_1client_1_1android_1_1ui_1_1_achievements_screen_activity.html">AchievementsScreenActivity</a>. To do this, add the following lines to the AndroidManifest.xml in your project:</p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> &lt;activity android:name=<span class="stringliteral">&quot;com.scoreloop.client.android.ui.component.achievement.AchievementHeaderActivity&quot;</span>/&gt;
 &lt;activity android:name=<span class="stringliteral">&quot;com.scoreloop.client.android.ui.component.achievement.AchievementListActivity&quot;</span>/&gt;
 
 &lt;activity android:name=<span class="stringliteral">&quot;com.scoreloop.client.android.ui.AchievementsScreenActivity&quot;</span> android:theme=<span class="stringliteral">&quot;@android:style/Theme.Black.NoTitleBar.Fullscreen&quot;</span>/&gt;
</pre></div> </td></tr>
</table>
<h2><a class="anchor" id="synchronizingawards"></a>
Initial Synchronization of Achievements with Scoreloop</h2>
<p>You may or may not want to initially synchronize your achievements with the Scoreloop Server before you can access them, you can do it by modifying the "ui.feature.achievement.forceSync" in the scoreloop.properties file. Set "ui.feature.achievement.forceSync" to "false" if you want to make achievements without this initial synchronization. By default it is true and initial sync with the Scoreloop servers happen.</p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> ui.feature.achievement.forceSync = <span class="keyword">false</span>
</pre></div> </td></tr>
</table>
<h2><a class="anchor" id="unlockingawards"></a>
Unlocking Awards</h2>
<p>To unlock an award and set it as having been achieved by the user call the <a class="el" href="../../">ScoreloopManager.achieveAward(String, boolean, boolean)</a>.<br/>
 The sample code below shows an example of how this might be done in the synchronous case (ie. "ui.feature.achievement.forceSync = false").</p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"><span class="comment">//A CoreSocial API </span>
<span class="keyword">private</span> Achievement _achievement;

<span class="comment">//The unique identifier for the award. This is chosen by the</span>
<span class="comment">//developer and configured on https://developer.scoreloop.com</span>
<span class="keyword">final</span> String awardId = getIntent().getStringExtra(<span class="stringliteral">&quot;awardId&quot;</span>);

<span class="comment">//load the achievements</span>
 ScoreloopManagerSingleton.get().loadAchievements(null);

<span class="comment">// Retrieves the Achievement object associated with the award identifier</span>
_achievement = ScoreloopManagerSingleton.get().getAchievement(awardId);

<span class="keyword">public</span> <span class="keywordtype">void</span> onClick(<span class="keyword">final</span> View v) {

        <span class="comment">// This sets the award as being achieved, brings up a toast, and syncs</span>
        <span class="comment">// immediately with the Scoreloop servers.</span>
        ScoreloopManagerSingleton.get().achieveAward(_achievement.getAward().getIdentifier(), <span class="keyword">true</span>, <span class="keyword">true</span>);

}
</pre></div> </td></tr>
</table>
<p>In the asynchronous case, (ie. "ui.feature.achievement.forceSync = true" or by default), the sample code below shows how you could unlock an award:</p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> <span class="comment">//A CoreSocial API </span>
 <span class="keyword">private</span> Achievement _achievement;
 
 <span class="comment">//The unique identifier for the award. This is chosen by the</span>
 <span class="comment">//developer and configured on https://developer.scoreloop.com</span>
 <span class="keyword">final</span> String awardId = getIntent().getStringExtra(<span class="stringliteral">&quot;awardId&quot;</span>);
 
 <span class="comment">// i.e. wait with the unlocking and/or display of achievements until your runnable gets invoked.</span>
 ScoreloopManagerSingleton.get().loadAchievements(<span class="keyword">new</span> Runnable() 
 {
        @Override
        <span class="keyword">public</span> <span class="keywordtype">void</span> run() 
        {
                <span class="comment">// Retrieves the Achievement object associated with the award identifier</span>
                _achievement = ScoreloopManagerSingleton.get().getAchievement(awardId);
 
                <span class="keyword">public</span> <span class="keywordtype">void</span> onClick(<span class="keyword">final</span> View v) 
                {
                        <span class="comment">// This sets the award as being achieved, brings up a toast, and syncs</span>
                        <span class="comment">// immediately with the Scoreloop servers.</span>
                        ScoreloopManagerSingleton.get().achieveAward(_achievement.getAward().getIdentifier(), <span class="keyword">true</span>, <span class="keyword">true</span>);
                
                }
        }
 });
</pre></div> </td></tr>
</table>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../main.html">ScoreloopUI for Android</a>      </li>
      <li class="navelem"><a class="el" href="../../d1/dfc/scoreloopui-integrationguide.html">Integration Guide</a>      </li>
      <li class="navelem"><a class="el" href="../../d3/dc2/scoreloopui-advancedintegration.html">Advanced Integration</a>      </li>
<address style="text-align: right;"><small>
Generated on Mon Jun 6 2011 for ScoreloopUI</small></address></body>
</html>
