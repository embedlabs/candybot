<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ScoreloopCore: Challenges</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ScoreloopCore</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d6/d5a/integrate-challenges.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>Challenges </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The following table below gives an overview of the classes (including the purpose) associated with "Challenges".</p>
<table class="doxtable">
<tr>
<th>Class</th><th>Purpose  </th></tr>
<tr>
<td><a class="el" href="../../df/d77/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_challenge.html">Challenge</a></td><td><ul>
<li>
Model class for Scoreloop Challenge </li>
</ul>
</td></tr>
<tr>
<td><a class="el" href="../../d5/d1a/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_user.html">User</a></td><td><ul>
<li>
Model class for Contender and Contestant of a Scoreloop Challenge </li>
</ul>
</td></tr>
<tr>
<td><a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a></td><td><ul>
<li>
Model class for the score of a Scoreloop Challenge </li>
</ul>
</td></tr>
<tr>
<td><a class="el" href="../../da/de2/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_money.html">Money</a></td><td><ul>
<li>
Model class for the Challenge Stake </li>
</ul>
</td></tr>
<tr>
<td><a class="el" href="../../d1/d7a/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenge_controller.html">ChallengeController </a></td><td><ul>
<li>
Create a Challenge </li>
<li>
Accept a Challenge </li>
<li>
Reject a Challenge </li>
<li>
Submit a Challenge </li>
</ul>
</td></tr>
<tr>
<td><a class="el" href="../../db/d98/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenges_controller.html">ChallengesController</a></td><td><ul>
<li>
Retrieve Direct Challenges </li>
<li>
Retrieve Open Challenges </li>
<li>
Retrieve the Challenge History of a user </li>
</ul>
</td></tr>
</table>
<h2><a class="anchor" id="basicintegration_challenges"></a>
Basic Integration</h2>
<p>The following examples demonstrate a basic integration of the CoreSocial challenges feature through 3 use cases:</p>
<ul>
<li>Creating a challenge.</li>
<li>Retrieving challenges from the server.</li>
<li>Accepting/rejecting a challenge.</li>
</ul>
<hr/>
<p><b>Use Case 1: Creating a challenge</b></p>
<p>Currently there are two ways to create a challenge:</p>
<ol type="1">
<li>Use the constructor of the <a class="el" href="../../df/d77/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_challenge.html">Challenge</a> class.</li>
<li>Explicitly set the challenge contender.</li>
<li>Explicitly set the challenge mode.</li>
<li>Set the created challenge in the current session.</li>
</ol>
<div class="fragment"><pre class="fragment"> <span class="comment">//Using the Challenge constructor.</span>
 Challenge myChallenge = <span class="keyword">new</span> Challenge(myStake);
 
 <span class="comment">//Set the challenge contender.</span>
 myChallenge.setContender(Session.getCurrentSession().getUser());
 
 <span class="comment">//Set the challenge mode.</span>
 myChallenge.setMode(3); 
 <span class="comment">//Set the challenge in the current session.</span>
 mySession.setChallenge(myChallenge);
</pre></div><p>To create a challenge using the <a class="el" href="../../d1/d7a/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenge_controller.html">ChallengeController</a>:</p>
<ol type="1">
<li>Create an instance of <a class="el" href="../../d1/d7a/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenge_controller.html">ChallengeController</a>.</li>
<li>Call the controller's <a class="el" href="../../">createChallenge(Money, User)</a> method.</li>
</ol>
<div class="fragment"><pre class="fragment"> <span class="comment">//Create the controller</span>
 ChallengeController myChallengeController = <span class="keyword">new</span> ChallengeController(<span class="keyword">new</span> myChallengeControllerObserver());
 
 <span class="comment">//Create the challenge.</span>
 <span class="comment">//Passing null as the contenstant argument creates an open challenge.</span>
 <span class="comment">//The contender is automatically equal to the current session user.</span>
 myChallengeController.createChallenge(myStake, null);
</pre></div><p>It is important that after the challenge has been created, the application flow allows for the contender to play the game. After they have played the game and obtained their score, the challenge should be submitted to Scoreloop. Use a <a class="el" href="../../d1/d7a/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenge_controller.html">ChallengeController</a> to do this. Once the challenge has been submitted to Scoreloop it becomes available to other Scoreloop users to play. </p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Submit the challenge</span>
 myChallengeController.submitChallenge();
</pre></div><p> <br/>
 <hr/>
<p><b>Use Case 2: Retrieving challenges from the server</b></p>
<p>The <a class="el" href="../../db/d98/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenges_controller.html">ChallengesController</a> manages lists of <a class="el" href="../../df/d77/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_challenge.html">Challenge</a> objects. Use this controller to a) retrieve a list of challenges for the user to play, or b) to request the challenge history for the user.</p>
<ol type="1">
<li>Create an instance of <a class="el" href="../../db/d98/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenges_controller.html">ChallengesController</a>.</li>
<li>Set the mode for the controller. Only challenges in this mode will be retrieved.</li>
<li>Request the list of challenges the user can participate in.</li>
<li>Alternatively, request the challenge history for the user.</li>
<li>Await a successful server response via the delegate callbacks.</li>
<li>After a successful server response, access the list of retrieved challenges.</li>
</ol>
<div class="fragment"><pre class="fragment"> <span class="comment">//Create the controller instance.</span>
 ChallengesController myChallengesController = <span class="keyword">new</span> ChallengesController(<span class="keyword">new</span> MyRequestControllerObserver());
 
 <span class="comment">//Set the mode for the controller</span>
 myChallengesController.setMode(2);
</pre></div><p>To request a list of challenges for the user to play, make the call below. If any direct challenges exist for the user, these will be retrieved. If no direct challenges exist for the user, then a list of all open challenges will be retrieved instead.</p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Request challenges for the user to play</span>
 myChallengesController.loadOpenChallenges();
</pre></div><p>To request the challenge history for the user, make the call below instead. The challenge history will include all challenges played by the user, all direct challenges available to the user, as well as any challenges that the user has rejected.</p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Request the challenge history for the user</span>
 myChallengesController.loadChallengeHistory();
</pre></div><p>Await the successful call via the delegate callback methods, such as:</p>
<div class="fragment"><pre class="fragment"> <span class="comment">//A standard delegate callback</span>
 <span class="keyword">public</span> <span class="keywordtype">void</span> requestControllerDidReceiveResponse(RequestController aRequestController) {
 
 <span class="comment">//Additional code here</span>
 ...
 }
</pre></div><p>After notification of a successful server request, access the list of challenges that have been retrieved.</p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Access the retrieved list</span>
 List&lt;Challenge&gt; = myChallengesController.getChallenges();
</pre></div><p> <br/>
 <hr/>
<p><b>Use case 3: Accepting or rejecting a challenge</b></p>
<p>To accept a challenge, both controllers are required:</p>
<ul>
<li>Use the <a class="el" href="../../db/d98/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenges_controller.html">ChallengesController</a> to request the list of challenges that the user may play.</li>
<li>Use the <a class="el" href="../../d1/d7a/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_challenge_controller.html">ChallengeController</a> to accept or reject the challenge.</li>
</ul>
<div class="fragment"><pre class="fragment"> <span class="comment">//Use the ChallengesController to retrieve the list of challenges</span>
 myChallengesController.loadOpenChallenges();
 
 <span class="comment">//Await notification of success via asynchronous delegate callback</span>
 
 ...
 
 <span class="comment">//Once notified of success, access the list.</span>
 List&lt;Challenge&gt; playableChallenges = myChallengesController.getChallenges();
 
 <span class="comment">//Access individual challenges.</span>
 <span class="comment">//This example simply takes the first Challenge in the list - you would normally check </span>
 <span class="comment">// the size() of the list first though.</span>
 Challenge myChallenge = playableChallenges.get(0);
 
 <span class="comment">//Set this challenge as the one the ChallengeController should deal with</span>
 myChallengeController.setChallenge(myChallenge);
 
 <span class="comment">//Accept the challenge</span>
 myChallengeController.acceptChallenge();
</pre></div><p>To reject the challenge, simply call <a class="el" href="../../">rejectChallenge()</a> instead. </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../main.html">Scoreloop CoreSocial SDK for Android</a>      </li>
      <li class="navelem"><a class="el" href="../../db/d8c/coresocial-integration.html">Integration Guides</a>      </li>
<hr size="1"/><address style="text-align: right;"><small>
Generated on <!-- Mon Jun 6 2011 15:27:29 --> Mon Jun 6 2011 for ScoreloopCore <img src="scoreloop.png" height="50" />
</body>
</html>
