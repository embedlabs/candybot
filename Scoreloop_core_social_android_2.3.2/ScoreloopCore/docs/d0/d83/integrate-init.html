<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ScoreloopCore: Initialization</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ScoreloopCore</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d0/d83/integrate-init.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>Initialization </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The first step is to do the initialization. An instance of the Client needs to be created which would set up the underlying infrastructure necessary for using Scoreloop in a game. When a Client is instantiated, a session instance will be created transparently.</p>
<p>The following table below gives an overview of the classes (including the purpose) associated with Initialization. </p>
<table class="doxtable">
<tr>
<th>Class</th><th>Purpose  </th></tr>
<tr>
<td><a class="el" href="../../de/dbf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_client.html">Client </a> </td><td><ul>
<li>
Sets up the infrastructure to use Scoreloop</li>
</ul>
</td></tr>
</table>
<p>There are two ways of Initialization: </p>
<h2><a class="anchor" id="init-method1"></a>
Method 1:</h2>
<p>Intitialization steps include:</p>
<p><b>Step 1: Create the Scoreloop Client</b> <br/>
 In the init method of your Application, create the Scoreloop client by calling the <a class="el" href="../../de/dbf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_client.html">Client()</a> method. An instance of this must be intialized in your game project in order to set up the correct infrastructure that allows your game application to communicate with the Scoreloop servers. This has to be kept around during the life cycle of your game. <br/>
<br/>
 To initialize the client you will require:</p>
<ul>
<li>the Android game context</li>
<li>the Game ID obtained from <a href="https://developer.scoreloop.com">https://developer.scoreloop.com</a></li>
<li>the Game Secret obtained from <a href="https://developer.scoreloop.com">https://developer.scoreloop.com</a></li>
</ul>
<p><b>Step 2: Optionally Setting the Game Modes</b> <br/>
 If your game supports different modes, call the <a class="el" href="../../de/dbf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_client.html#afdec1e4a8254d866803aef11abd7204f">setGameModes()</a> method on the client instance created above. A good place to initialize the Client is within your game's application class. This is the class that will normally extend the <a href="http://developer.android.com/reference/android/app/Application.html">android.app.Application</a>. Within your game's application class the recommended place to initialize the Scoreloop Client is within the <a href="http://developer.android.com/reference/android/app/Application.html#onCreate%28%29">onCreate()</a> method. The following code shows how to do this: </p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> <span class="comment">//Declare the Scoreloop Client.</span>
 <span class="keyword">private</span> <span class="keyword">static</span> Client client;

 <span class="keyword">static</span> <span class="keywordtype">void</span> init(<span class="keyword">final</span> Context android_game_context, <span class="keyword">final</span> String gameID, <span class="keyword">final</span> String gameSecret) {
 
      <span class="keywordflow">if</span> (client == null) {
 
                <span class="comment">//Initialize the client with the Android Game Context, the Scoreloop Game ID and secret, and </span>
                <span class="comment">//an a ClientObserver (which in this example is null).</span>
                client = <span class="keyword">new</span> Client(android_game_context, gameID, gameSecret, null);
 
                <span class="comment">//Optionally set the game modes</span>
                client.setGameModes(<span class="keyword">new</span> Range(GAME_MODE_MIN, GAME_MODE_COUNT));
      }
 }
</pre></div> </td></tr>
</table>
<h2><a class="anchor" id="init-method2"></a>
Method 2:</h2>
<p>Intitialization steps include:</p>
<p><b>Step 1: Update the Scoreloop Properties file</b> <br/>
</p>
<ul>
<li>You will need to add the game identifier and game secret of your game to the scoreloop.properties file. A generated scoreloop.properties file can be downloaded from <a href="https://developer.scoreloop.com.">https://developer.scoreloop.com.</a> The generated properties file is only partially complete. You will need to copy the Game ID and Game Secret (both of which are available on the same configure page of <a href="https://developer.scoreloop.com">https://developer.scoreloop.com</a>) into the file as shown: <table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> game.id = f9fa2829-532c-4c71-856f-96b585a135db
 game.secret = I1mpr5hwWh3yIEEaJXCizB6FS4gnvhrVTSSpuM0uGhoDNZU60ykWGw==
</pre></div> </td></tr>
</table>
</li>
</ul>
<p>Please note that the game.id and game.secret assigned in the above example is the game id and secret of the SLDemo application. It has to be replaced with the game id and secret specific to your game, available on the configure page of your game on <a href="https://developer.scoreloop.com.">https://developer.scoreloop.com.</a></p>
<ul>
<li>If your game supports modes, you will need to add both the minimum and maximum modes to the scoreloop.properties file. The following example shows how to configure the scoreloop.properties file for a game that has 3 modes: <table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> game.mode.min = 0
 game.mode.max = 3
</pre></div> </td></tr>
</table>
<br/>
 Note that the maximum mode property is not inclusive, (that is, the above example defines 3 modes, not 4).</li>
</ul>
<ul>
<li>Optionally, you could also specify the game name and game version in the properties file. If you specify a game version it MUST be at least 1.0 otherwise you will get an error. <table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> game.name = SLDemoUI
 game.version = 1.0
</pre></div> </td></tr>
</table>
<br/>
</li>
</ul>
<p><b>Step 2: Create the Scoreloop Client</b> <br/>
</p>
<p>Again, a good place to initialize the Client is within your game's application class. This is the class that will normally extend the <a href="http://developer.android.com/reference/android/app/Application.html">android.app.Application</a>. Within your game's application class the recommended place to initialize the Scoreloop Client is within the <a href="http://developer.android.com/reference/android/app/Application.html#onCreate%28%29">onCreate()</a> method, to which you only have to pass the <a href="http://developer.android.com/reference/android/content/Context.html">android.content.Context</a>. The following code shows how to do this: </p>
<table class="doxtable">
<tr>
<td><div class="fragment"><pre class="fragment"> <span class="comment">//Declare the Scoreloop Client</span>
 <span class="keyword">private</span> <span class="keyword">static</span> Client client;

 <span class="keyword">static</span> <span class="keywordtype">void</span> init(<span class="keyword">final</span> Context android_game_context) {

      <span class="keywordflow">if</span> (client == null) {

        <span class="comment">//This constructor internally gets the game id, and secret from the scoreloop.properties file to create the client.</span>
        <span class="comment">//It also gets the min mode, max mode, game name and game version from the properties file, if present, as these are optional. If not present, takes the default values.</span>
        client = <span class="keyword">new</span> Client(android_game_context, null);
 
      }
 }
</pre></div> </td></tr>
</table>
<p>Once the initialization is done using either Method 1 or Method 2, you can proceed to integrate the social Gaming features that Scoreloop offers. </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../main.html">Scoreloop CoreSocial SDK for Android</a>      </li>
      <li class="navelem"><a class="el" href="../../db/d8c/coresocial-integration.html">Integration Guides</a>      </li>
<hr size="1"/><address style="text-align: right;"><small>
Generated on <!-- Mon Jun 6 2011 15:27:29 --> Mon Jun 6 2011 for ScoreloopCore <img src="scoreloop.png" height="50" />
</body>
</html>
