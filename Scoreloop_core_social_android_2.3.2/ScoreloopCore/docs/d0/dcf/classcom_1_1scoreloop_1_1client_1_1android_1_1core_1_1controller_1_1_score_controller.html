<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ScoreloopCore: ScoreController Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ScoreloopCore</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>ScoreController Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="com::scoreloop::client::android::core::controller::ScoreController" --><!-- doxytag: inherits="com::scoreloop::client::android::core::controller::RequestController" -->
<p><a href="../../d9/d1b/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a2a8360f053852b5122dfab8964749393">ScoreController</a> (final <a class="el" href="../../d2/d59/interfacecom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_request_controller_observer.html">RequestControllerObserver</a> observer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a2e6dc16e6a5f491204ca8b48237f1639">ScoreController</a> (final <a class="el" href="../../d5/ddf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_session.html">Session</a> aSession, final <a class="el" href="../../d2/d59/interfacecom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_request_controller_observer.html">RequestControllerObserver</a> observer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a56b4080d8dd69c0ad448f87d12dde95c">getScore</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a2664da0e1a9b24bd6a2ce0236235fc6c">setShouldSubmitScoreForChallenge</a> (final boolean aShouldSubmitScoreForChallenge)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a36da3ff51729fae48ddf7efede76801c">setShouldSubmitScoreLocally</a> (final boolean submitLocally)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a419d34314fac6a645be3284a99810312">shouldSubmitScoreForChallenge</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a457c8c94c624cae06396fefa7bd55bd7">shouldSubmitScoreLocally</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a9cf86dc243afd03b476ac18644df5784">submitScore</a> (final <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> aScore)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a> is used to submit a <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> to the servers.</p>
<p>When a <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a> instance is initialized developers can choose to support local score queuing. What this means is that if a server connection cannot be established, scores will be queued on the local device. When the connection to the server is eventually established, all queued scores will be submitted and the queue will be flushed</p>
<p><b>Important:</b> Supporting locally queued scores should be used very carefully:</p>
<ul>
<li>Local queuing is handled transparently; if a score is queued locally, the application will still receive a <a class="el" href="../../d2/d59/interfacecom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_request_controller_observer.html#a0fe2007679a981379f4e8e733d97015a">RequestControllerObserver.requestControllerDidReceiveResponse(RequestController)</a> notification.</li>
<li>The queue is not persistent but is limited to the application runtime. If the user exits the application then any locally queued scores will be lost.</li>
</ul>
<p>Basic Usage for <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a>:</p>
<ol type="1">
<li>Get an instance of <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a>. When intializing the instance choose whether to support local score queuing.</li>
<li>Check if the <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> is part of a challenge (<a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a419d34314fac6a645be3284a99810312">shouldSubmitScoreForChallenge()</a>). If the score is part of a challenge, then calling <a class="el" href="../../">submitScore(Score)</a> will automatically submit the score as part of the session challenge.</li>
<li>If the score is not part of a challenge, then calling submitScore(Score) submits it to Scoreloop as an entity in its own right.</li>
<li>Await notification of success via delegate callbacks.</li>
</ol>
<p>Note that only scores for the current session user can be submitted.</p>
<p>Important usage note: Do not modify a score object or one of its sub-objects like the userContext while one of the following asynchronous methods is in progress, as this might result in undefined results:</p>
<ul>
<li><a class="el" href="../../">submitScore(Score)</a> </li>
</ul>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2a8360f053852b5122dfab8964749393"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::ScoreController" ref="a2a8360f053852b5122dfab8964749393" args="(final RequestControllerObserver observer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a> </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="../../d2/d59/interfacecom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_request_controller_observer.html">RequestControllerObserver</a>&#160;</td>
          <td class="paramname"><em>observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Initializes an instance of <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a> with the given <a class="el" href="../../d2/d59/interfacecom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_request_controller_observer.html">RequestControllerObserver</a>. The current <a class="el" href="../../d5/ddf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_session.html">Session</a> is used by default. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">observer</td><td>The observer that is set for this controller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2e6dc16e6a5f491204ca8b48237f1639"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::ScoreController" ref="a2e6dc16e6a5f491204ca8b48237f1639" args="(final Session aSession, final RequestControllerObserver observer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a> </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="../../d5/ddf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_session.html">Session</a>&#160;</td>
          <td class="paramname"><em>aSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="../../d2/d59/interfacecom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_request_controller_observer.html">RequestControllerObserver</a>&#160;</td>
          <td class="paramname"><em>observer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Initializes an instance of <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a> with the given parameters. <br/>
 </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aSession</td><td>A Scoreloop <a class="el" href="../../d5/ddf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_session.html">Session</a>, usually from the <a class="el" href="../../de/dbf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_client.html">Client</a> instance. Pass <code>null</code> here to use the current session. </td></tr>
    <tr><td class="paramname">observer</td><td>The observer that is set for this controller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a56b4080d8dd69c0ad448f87d12dde95c"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::getScore" ref="a56b4080d8dd69c0ad448f87d12dde95c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> getScore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accessor that returns the <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> object the controller has submitted. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> object. </dd></dl>

</div>
</div>
<a class="anchor" id="a2664da0e1a9b24bd6a2ce0236235fc6c"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::setShouldSubmitScoreForChallenge" ref="a2664da0e1a9b24bd6a2ce0236235fc6c" args="(final boolean aShouldSubmitScoreForChallenge)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setShouldSubmitScoreForChallenge </td>
          <td>(</td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>aShouldSubmitScoreForChallenge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When set to true and a session challenge is available, calling <a class="el" href="../../">submitScore(Score)</a> will submit the score as part of that challenge.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aShouldSubmitScoreForChallenge</td><td>Set to true if score should be submitted as part of an ongoing challenge or to false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a36da3ff51729fae48ddf7efede76801c"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::setShouldSubmitScoreLocally" ref="a36da3ff51729fae48ddf7efede76801c" args="(final boolean submitLocally)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setShouldSubmitScoreLocally </td>
          <td>(</td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>submitLocally</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When set to true, submitted scores are stored locally only. When set to false (this is the default) then scores are submitted to the Scoreloop servers. When a submission to the remote servers fail, the score is then added to the local score even though shouldSubmitScoreLocally will be false.</p>
<p>Note, that this value will not have any effect, if the score will be submitted as part of an ongoing challenge in which case the score will always be submitted to the remote Scoreloop servers.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">submitLocally</td><td>true, if scores should be submitted locally only. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a419d34314fac6a645be3284a99810312"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::shouldSubmitScoreForChallenge" ref="a419d34314fac6a645be3284a99810312" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean shouldSubmitScoreForChallenge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reports the value set by <a class="el" href="../../">setShouldSubmitScoreForChallenge(boolean)</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the score should be submitted as part of the current sessions challenge. Default is false. </dd></dl>

</div>
</div>
<a class="anchor" id="a457c8c94c624cae06396fefa7bd55bd7"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::shouldSubmitScoreLocally" ref="a457c8c94c624cae06396fefa7bd55bd7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean shouldSubmitScoreLocally </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reports the value set by <a class="el" href="../../">setShouldSubmitScoreLocally(boolean)</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the score should be submitted to the local scores list only. false if the score should be submitted to the remote Scoreoop servers. Default is false. </dd></dl>

</div>
</div>
<a class="anchor" id="a9cf86dc243afd03b476ac18644df5784"></a><!-- doxytag: member="com::scoreloop::client::android::core::controller::ScoreController::submitScore" ref="a9cf86dc243afd03b476ac18644df5784" args="(final Score aScore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submitScore </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a>&#160;</td>
          <td class="paramname"><em>aScore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Submits the given <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> to Scoreloop. Note that only scores for the current session user can be submitted. If <a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html#a419d34314fac6a645be3284a99810312">shouldSubmitScoreForChallenge()</a> returns <code>true</code>, and the current sessions challenge is not <code>null</code> then the score will be submitted as part of that challenge. Otherwise, the score will be submitted independent from the challenge.</p>
<p>Also note, that if a score was submitted locally (offline) only, then it's not possible to use it as a target for message posting.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aScore</td><td>The <a class="el" href="../../d6/d00/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1model_1_1_score.html">Score</a> to be submitted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>com</b>      </li>
      <li class="navelem"><b>scoreloop</b>      </li>
      <li class="navelem"><b>client</b>      </li>
      <li class="navelem"><b>android</b>      </li>
      <li class="navelem"><b>core</b>      </li>
      <li class="navelem"><b>controller</b>      </li>
      <li class="navelem"><a class="el" href="../../d0/dcf/classcom_1_1scoreloop_1_1client_1_1android_1_1core_1_1controller_1_1_score_controller.html">ScoreController</a>      </li>
<hr size="1"/><address style="text-align: right;"><small>
Generated on <!-- Mon Jun 6 2011 15:27:29 --> Mon Jun 6 2011 for ScoreloopCore <img src="scoreloop.png" height="50" />
</body>
</html>
