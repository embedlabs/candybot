{"title":"OpenFeint Login","scrolling":true,"loadflow":null,"init":"$('body').addClass('textured');\n$('#header .loading').hide();\n$('.button').pretouch();\n\nif (OF.page.params.mode == 'switch') {\n  OF.introSwitch = true;\n}\n\nif (OF.introSwitch) {\n  $('.switch_flow').unhide(0);\n  $('.intro_flow').hide();\n}\n$('.game_name').html(OF.game.name);\nif (OF.spotlight) {\n  $('.intro_flow').hide();\n  $('.intro_flow_spotlight').unhide();\n}\nOF.page.boostrapCallback = function(status, response) {\n  $('form').isLoading(false);\n  $(\"#submit\").text(\"Start Playing\");\n  OF.loader.hide();\n  \n  if (status.match(/^2/)) {\n    OF.log('Successfully bootstrapped');\n    OF.sendAction('dismiss');\n  } else if (status.match(/404/)) {\n    OF.alert('Account not found', 'There is no Feint account with that username/email.');\n  } else if (status.match(/401/)) {\n    OF.alert('Incorrect Password', 'The password entered is incorrect.');\n  } else {\n    var message = response.exception.message ? $.htmlDecode(response.exception.message) : 'Check your email address and password and try again';\n    OF.alert('Authentication failed', message);\n  }\n}\n\n$('#submit').touch(function() {\n  if (!$('form').isLoading()) {    \n    var email    = $.trim($('#user_email').val());\n    var password = $('#user_password').val();\n    \n    $('input').blur();\n    if (email.length && password.length) {\n      $('form').data('isLoading', true);\n      OF.loader.show();\n      $(this).html('Loading&hellip;');\n      OF.sendAction('loginUser', {\n        email:    $.trim($('#user_email').val()),\n        password: $('#user_password').val(),\n        callback: 'OF.page.boostrapCallback'\n      });\n    } else {\n      $('form').isLoading(true);\n      setTimeout(function() { $('form').isLoading(false); }, 500);\n      OF.alert('Missing Data', 'Enter your username or email and your password to login.')\n    }\n  }\n});\n\n$('form').submit(function() {\n  $('#submit').touch();\n  return false;\n});","resume":null,"appear":null,"disappear":null,"exit":null,"html":"<div id='intro'>\n  <div id='header'>\n    <span class='loading'>\n      <span class='spinner'></span>\n    </span>\n  </div>\n  <div class='content'>\n    <div class='switch_flow hidden'>\n      <p>\n        Log in to a different Feint account or create a new one.\n      </p>\n    </div>\n    <div class='intro_flow'>\n      <p>\n        Log in to OpenFeint to start playing\n        <span class='game_name'></span>\n        with your friends and other gamers!\n      </p>\n    </div>\n    <div class='intro_flow_spotlight hidden'>\n      <p>\n        Log in to OpenFeint to connect with friends and other gamers!\n      </p>\n    </div>\n    <div id='intro_login'>\n      <form>\n        <div class='input_field'>\n          <label>Email or Username:</label>\n          <input id='user_email' name='user[email]' type='text'>\n        </div>\n        <div class='input_field'>\n          <div data-href='intro/forgot_password' id='forgot_password'>Forgot password?</div>\n          <label>Password:</label>\n          <input id='user_password' name='user[password]' type='password'>\n        </div>\n      </form>\n      <div class='button default' id='submit'>Start Playing</div>\n      <div class='button' data-href='intro/index?for_new_account=true' id='new_account'>Create New Account</div>\n    </div>\n  </div>\n</div>\n"}