{"title":"Welcome Back","scrolling":true,"loadflow":null,"init":"$('body').addClass('textured');\n$('#header .loading').hide();\n$('.button').pretouch();\n\nif (OF.page.params.mode == 'switch') {\n  OF.introSwitch = true;\n}\n\nif (OF.introSwitch) {\n  $('.switch_flow').unhide(0);\n  $('.intro_flow').hide();\n}\n// For requests coming from the multiple accounts page\nif (OF.users.length > 1 && OF.page.params.user_id) {\n  $.each(OF.users, function() {\n    if (this.user.id == OF.page.params.user_id) {\n      OF.user = this.user;\n    }\n  });\n}\n\n$('.game_name').html(OF.game.name);\n$('.user_name').html(OF.user.name);\n$('.feint_score').html(OF.user.gamer_score);\nif (OF.user.profile_picture_url) {\n  $('.avatar').css('background-image', 'url('+ OF.user.profile_picture_url +')');\n}\n\nOF.page.boostrapCallback = function(status, response) {\n  $('form').data('isLoading', false);\n  OF.loader.hide();\n  if (status.match(/^2/)) {\n    OF.log('Successfully bootstrapped with user name: \"'+ OF.user.name +'\" id: '+ OF.user.id);\n    OF.sendAction('dismiss');\n  } else if (status.match(/404/)) {\n    OF.alert('Account not found', 'There is no Feint account with that username/email.');\n  } else if (status.match(/401/)) {\n    OF.alert('Incorrect Password', 'The password entered is incorrect.');\n  } else {\n    var message = (response.exception && response.exception.message) ? $.htmlDecode(response.exception.message) : 'Check your username and password and try again';\n    OF.alert('Authentication failed', message);\n  }\n};\n\n$('#submit').touch(function() {\n  if (!$('form').data('isLoading')) {\n    $('form').data('isLoading', true);    \n    OF.loader.show();\n    OF.sendAction('loginUser', {\n      user_id:  OF.user.id,\n      password: $('#user_password').val(),\n      callback: 'OF.page.boostrapCallback'\n    });\n  }\n});\n\n$('form').submit(function() {\n  OF.touch('#submit');\n  return false;\n});","resume":null,"appear":null,"disappear":null,"exit":null,"html":"<div id='intro'>\n  <div id='header'>\n    <span class='loading'>\n      <span class='spinner'></span>\n    </span>\n  </div>\n  <div class='content'>\n    <p>\n      Log in to OpenFeint to start playing\n      <span class='game_name'></span>\n      with your friends and other gamers!\n    </p>\n    <div class='inset_cell user'>\n      <div class='image avatar'>\n        <div class='overlay'></div>\n      </div>\n      <div class='title user_name'></div>\n      <div class='feint_score'></div>\n    </div>\n    <form>\n      <div class='input_field'>\n        <label>Password:</label>\n        <input id='user_password' name='user[password]' type='password'>\n      </div>\n    </form>\n    <div class='button default' id='submit'>Start Playing!</div>\n    <div class='button_row clearfix'>\n      <div class='button_wrapper clearfix'>\n        <div class='button' data-href='intro/new_account'>\n          Create a<br>\n          New Account\n        </div>\n      </div>\n      <div class='button_wrapper clearfix'>\n        <div class='button' data-href='intro/login'>\n          Use Another<br>\n          Account\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"}