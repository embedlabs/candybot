{"title":"Settings","scrolling":true,"loadflow":"if ((typeof jasmine !== \"undefined\" && jasmine !== null) && OF.isBrowser) {\n  $.loadCss('settings/spec');\n}","init":"$('body').addClass('textured');\n$('#subheader').text(OF.page.title);\n$('#subheader').remove();\nOF.page.enableSubscribe = function(enabled) {\n  var button;\n  button = $('#subscribe');\n  if (enabled) {\n    return button.children('span').addClass('subscribed');\n  } else {\n    return button.children('span').removeClass('subscribed');\n  }\n};\nOF.api('/xp/news_letter_subscription', {\n  success: function(data) {\n    return OF.page.enableSubscribe(data.news_letter_subscription.is_subscribed);\n  }\n});\n$('#subscribe').touch(function() {\n  var button, isSubscribed;\n  if (!$('#subscribe').data('isLoading')) {\n    $('#subscribe').data('isLoading', true);\n    button = $('#subscribe');\n    isSubscribed = button.children('span').hasClass('subscribed');\n    OF.page.enableSubscribe(!isSubscribed);\n    return OF.api('/xp/news_letter_subscription', {\n      method: isSubscribed ? 'DELETE' : 'POST',\n      success: $.noop,\n      complete: function() {\n        return $('#subscribe').data('isLoading', false);\n      }\n    });\n  }\n});\n$(\"#secure\").touch(function() {\n  return setTimeout(function() {\n    return OF.push('settings/secure');\n  }, 300);\n});\n$(\"#password\").touch(function() {\n  return setTimeout(function() {\n    return OF.push('settings/password');\n  }, 300);\n});\n$(\"#email\").touch(function() {\n  return setTimeout(function() {\n    return OF.push('settings/email');\n  }, 300);\n});\n$('#logout').touch(function() {\n  if (confirm('Are you sure you want to logout from Feint?')) {\n    return OF.sendAction('logout');\n  }\n});\n$('#parental_controls').touch(function() {\n  var pageType;\n  pageType = OF.device.parentalControls ? 'disable' : 'enable';\n  return OF.push(\"settings/parental_controls_\" + pageType);\n});","resume":null,"appear":"var emailNode, forgotPasswordNode, passwordNode, secureNode;\nsecureNode = $(\"#secure\");\nemailNode = $(\"#email\");\npasswordNode = $(\"#password\");\nforgotPasswordNode = $(\"#forgot_password\");\nif (OF.device.parentalControls != null) {\n  $('#parental_controls .title').text(\"Turn \" + (OF.device.parentalControls ? 'Off' : 'On') + \" Parental Controls\");\n} else {\n  $('#parental_controls').hide();\n}\nif (OF.device.parentalControls) {\n  $('#profile_picture').hide();\n} else {\n  $('#profile_picture').show();\n}\nOF.api('/xp/users/me', {\n  success: function(data) {\n    var _ref;\n    OF.user = data.user;\n    $('#feint_name .subtitle').text(OF.user.name);\n    if ((_ref = OF.user.email) != null ? _ref.length : void 0) {\n      secureNode.hide();\n      emailNode.children('.subtitle').text(OF.user.email);\n      emailNode.unhide();\n      passwordNode.unhide();\n      return forgotPasswordNode.unhide();\n    } else {\n      return secureNode.unhide();\n    }\n  }\n});","disappear":null,"exit":null,"html":"<div id='settings'>\n  <div id='header'>\n    Settings\n    <span class='loading'>\n      <span class='spinner'></span>\n    </span>\n  </div>\n  <div id='subheader'></div>\n  <ul class='cells' id='settings_list'>\n    <li data-href='settings/name' id='feint_name'>\n      <div class='title'>Feint Name</div>\n      <div class='subtitle'></div>\n    </li>\n    <li data-action='profilePicture' id='profile_picture'>\n      <div class='title'>Profile Picture</div>\n    </li>\n    <li class='hidden' id='secure'>\n      <div class='title'>Enable Account Retrieval</div>\n    </li>\n    <li class='hidden' id='email'>\n      <div class='title'>Change Email Address</div>\n      <div class='subtitle'></div>\n    </li>\n    <li class='hidden' id='password'>\n      <div class='title'>Change Password</div>\n    </li>\n    <li class='hidden' data-href='settings/forgot_password' id='forgot_password'>\n      <div class='title'>Forgot Password</div>\n    </li>\n    <li data-action='introFlow' id='switch_account'>\n      <div class='title'>Switch Account</div>\n    </li>\n    <li id='logout'>\n      <div class='title'>Logout of Feint</div>\n    </li>\n    <li data-href='settings/remove_account' id='remove_account'>\n      <div class='title'>Remove Account</div>\n    </li>\n    <li id='parental_controls'>\n      <div class='title'>Turn On Parental Controls</div>\n    </li>\n    <li data-href='settings/privacy_settings' id='privacy_settings'>\n      <div class='title'>Privacy Settings</div>\n    </li>\n    <li id='subscribe'>\n      <div class='title'>Subscribe to Newsletter</div>\n      <span></span>\n    </li>\n  </ul>\n</div>\n"}