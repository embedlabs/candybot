{"title":"Change Password","scrolling":true,"loadflow":"","init":"\n$('body').addClass('textured');$('#subheader').text(OF.page.title);$('#change_password_form').submit(function(){if($(this).isLoading())return false;var oldPass=$('#password').val();var newPass=$('#user_http_basic_credential_attributes_password').val();var newPassConfirm=$('#user_http_basic_credential_attributes_password_confirmation').val();if($('#change_password_form').isFormFilled('Please fill out all fields in order to change your password.')){$(this).isLoading(true);OF.api.request('/xp/users/'+OF.user.id,{method:'PUT',loader:'#submit',params:{password:$('#password').val(),user:{http_basic_credential_attributes:{password:$('#user_http_basic_credential_attributes_password').val(),password_confirmation:$('#user_http_basic_credential_attributes_password_confirmation').val(),}}},success:function(){OF.goBack();OF.alert('Success',\"You have changed your password.\");},failure:function(data){if(data.exception){if(data.exception['class']=='PlayerNotAuthenticated'){OF.alert('Error','Your current password was not correct.');}else{return false;}}else{return false;}},complete:function(){$('#change_password_form').isLoading(false);}});}\nreturn false;});$('#submit').touch(function(){$('#change_password_form').submit();});","resume":"","appear":"","html":"<div id='settings'>\n<div id='header'>Settings</div>\n<div id='subheader'></div>\n<form id='change_password_form'>\n<div class='input_field'>\n<label>Current Password</label>\n<input id='password' name='password' type='password'>\n</div>\n<div class='input_field'>\n<label>New Password</label>\n<input id='user_http_basic_credential_attributes_password' name='user[http_basic_credential_attributes][password]' type='password'>\n</div>\n<div class='input_field'>\n<label>Confirm Password</label>\n<input id='user_http_basic_credential_attributes_password_confirmation' name='user[http_basic_credential_attributes][password_confirmation]' type='password'>\n</div>\n<div class='button' id='submit'>Okay</div>\n</form>\n\n</div>\n"}