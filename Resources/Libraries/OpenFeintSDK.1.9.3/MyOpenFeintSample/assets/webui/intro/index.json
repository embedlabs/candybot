{"title":"Initializing Open Feint...","scrolling":true,"loadflow":"\nif(OF.page.params.spotlight){$('#game_flow').hide();$('#spotlight_flow').unhide();OF.spotlight=true;}","init":"\n$('body').addClass('textured');$('#header .loading').hide();$('.button').pretouch();if(OF.page.params.mode=='switch'){OF.introSwitch=true;}\nif(OF.introSwitch){$('.switch_flow').unhide(0);$('.intro_flow').hide();}\nif(OF.page.params.for_new_account){$('#new_account').unhide(0);$('#intro_index .loading').hide();$('.with_decline').hide();$('form').submit(function(){$(this).children('#submit').touch();return false;})\n$('#new_account #submit').touch(function(){if(!$('#new_account form').isLoading()){var name=$('#new_account #user_login').val();if(name.length>0){$('#new_account form').isLoading(true);OF.api.request('/xp/users/validate',{loader:'#new_account #submit',params:{name:escape(name)},on404:function(data){OF.navigateToUrl('intro/new_account',{params:{userName:$('#new_account #user_login').val()}});},on406:function(data){OF.alert(\"Invalid Username\",$.htmlDecode(data.exception.message));},on409:function(data){var suggestion=$.htmlDecode(data.username.suggestion);if(confirm('Oops, looks like that user name is already taken. Would you like to continue with \"'+suggestion+'\"?  Remember you can always change it later.')){$('#new_account #user_login').val(suggestion);$('#new_account form').isLoading(false);$('#new_account #submit').touch();}},failure:function(data,status){if(!status.match(/^40(4|6|9)/)){return false;}},complete:function(){$('#new_account form').isLoading(false);}});}else{OF.alert('Enter a name','Enter your desired username in the textfield to continue.');}}});}else{var enableOpenfeintNode=$('#enable_openfeint');var enableOpenfeintFormNode=enableOpenfeintNode.find(\"form\");var enableOpenfeintSubmitNode=$(\"#submit\");var loadingNode=$('#intro_index .loading');loadingNode.fadeOut('fast',function(){enableOpenfeintNode.unhide();});enableOpenfeintSubmitNode.touch(function(){OF.GA.page(\"/webui/intro/index_trackEnableOpenfeint\");if(!enableOpenfeintFormNode.isLoading()){enableOpenfeintFormNode.isLoading(true);OF.loader.show();OF.sendAction('createUser',{name:\"\",email:\"\",password:\"\",password_confirmation:\"\",callback:function(status,response){enableOpenfeintFormNode.isLoading(false);if(typeof response==='string'){response=$.parseJSON(response);}\nOF.loader.hide();if(status.match(/^2/)){OF.log('Successfully bootstrapped with new account');OF.sendAction('dismiss');}else{var message=response.exception.message?$.htmlDecode(response.exception.message):'We had an error processing your information.  Ensure it all looks right and try again.';OF.alert('Error',message);}}});}});$(\"#decline\").touch(function(){OF.GA.page(\"/webui/intro/index_trackDeclineOpenfeint\");OF.log('user click No thanks button');OF.action('decline');});}","resume":"","appear":"","html":"<div id='intro'>\n<div id='header'>\n<span class='loading'>\n<span class='spinner'></span>\n</span>\n</div>\n<div class='content'>\n<div id='intro_index'>\n<div class='switch_flow hidden'>\n<p>Create a new Feint account.</p>\n</div>\n<div class='intro_flow'>\n<div id='game_flow'>\n<p>\nYou're just one click away from gaming with your friends!\n</p>\n</div>\n<div class='hidden' id='spotlight_flow'>\n<p>Join the OpenFeint community to connect with friends and other gamers</p>\n</div>\n<div class='features'>\n<div class='feature_row'>\n<div class='feature' id='leaderboards'>\n<div class='icon'></div>\n<div class='title'>\nPost<br>\nHigh Scores\n</div>\n</div>\n<div class='feature' id='friends'>\n<div class='icon'></div>\n<div class='title'>\nCompete<br>\nWith Friends\n</div>\n</div>\n<div class='feature' id='achievements'>\n<div class='icon'></div>\n<div class='title'>\nEarn<br>\nAchievements\n</div>\n</div>\n<div class='feature' id='games'>\n<div class='icon'></div>\n<div class='title'>\nDiscover<br>\nGames\n</div>\n</div>\n</div>\n</div>\n<div class='loading'>\n<div class='spinner'></div>\n<span>Loading</span>\n</div>\n</div>\n<div class='hidden' id='enable_openfeint'>\n<form>\n<div class='button_row'>\n<div class='pretty_wide_wrapper'>\n<div class='button default' id='submit'>\n<span class='start_openfeint'>Enable & Start Playing!</span>\n</div>\n</div>\n</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button' data-event='intro,decline' id='decline'>\nNo thanks. I don't like fun.\n</div>\n</div>\n</div>\n</div>\n<div class='intro_flow'>\n<div data-href='intro/tos' id='intro_legal'>\nGame Data will automatically be stored securely on our servers according to our\n<span data-href='intro/tos'>Terms and Conditions.</span>\n</div>\n</div>\n</div>\n<div class='hidden' id='new_account'>\n<form>\n<div class='input_field'>\n<label>Feint Name:</label>\n<input id='user_login' name='user[login]' type='text'>\n</div>\n<div class='button default' id='submit'>Create</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button' data-action='decline' data-event='intro,decline'>\nI don't want<br>\nto use Feint\n</div>\n</div>\n<div class='button_wrapper'>\n<div class='button' data-href='intro/login'>\nI already have<br>\na Feint account\n</div>\n</div>\n</div>\n</div>\n<div class='without_decline'>\n<div class='button' data-href='intro/login'>\nI already have a Feint account\n</div>\n</div>\n<div class='intro_flow'>\n<div data-href='intro/tos' id='intro_legal'>\nGame Data will automatically be stored securely on our servers according to our\n<span data-href='intro/tos'>Terms and Conditions.</span>\n</div>\n</div>\n</div>\n</div>\n\n</div>\n</div>\n"}